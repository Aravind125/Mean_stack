<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wether</title>
</head>

<body onload="getWetherReport()">

    <form class="form-horizontal" style="text-align: center;">

        <h1>Wether Report</h1>
        <div class="form-group">
            <label class="control-label col-sm-2" for="Location">Location :</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="loc" placeholder="Enter Location" name="Location">
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
                <button onclick="getlocation()" type="submit" class="btn btn-default">Submit</button>
            </div>
        </div>
        <!-- <h2 id="response">Result</h2> -->
    </form>

    <script>

        function getWetherReport() {

            // var location = document.getElementById("loc").value;

            // console.log("location", location);

            // apiKey = 'e3accf9aaf517c6c40dc61bdc309325e';

            // console.log(apiKey);

            // https://api.openweathermap.org/data/2.5/weather?q=chennai&appid=e3accf9aaf517c6c40dc61bdc309325e

            fetch('https://api.openweathermap.org/data/2.5/weather?q=chennai&appid=e3accf9aaf517c6c40dc61bdc309325e')
                .then(response => response.json())
                .then(json=>console.log(json))
                .then(json=>displayData(json))
        }

        function displayData(jsondata) {
            wetherReport = jsondata;
            console.log('displayData::', wetherReport);
            console.log('jsondata:', jsondata);


            // var data = '';
            // data = wetherReport.name;
            //console.log(wetherReport.name);
            //document.getElementById("response").innerHTML = wetherReport;
        }   
    </script>
</body>

</html>